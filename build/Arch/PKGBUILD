# Maintainer: Varun M <varunushamurali@gmail.com>

pkgname=mybatop
pkgver=__APP_VERSION__
pkgrel=1
pkgdesc="mybatop continuously monitors laptop battery status and provides detailed analytics through HTML reports."
arch=('any')
url="https://github.com/vishnumur777/mybatop"
license=('GPL-3.0')
depends=('bash' 'systemd' 'dmidecode' 'python' 'python-pandas' 'python-plotly')
source=("$pkgname-$pkgver.tar.gz")
sha256sums=('SKIP')
install=mybatop.install

package() {

  mkdir -p "$pkgdir/opt/mybatop"
  mkdir -p "$pkgdir/etc/systemd/system"
  mkdir -p "$pkgdir/usr/bin"

  cp -r * "$pkgdir/opt/"

  cp -r $srcdir/mybatop/filesystemd/mybatop-* "$pkgdir/etc/systemd/system/"

  rm -rf $srcdir/mybatop/filesystemd/

  ln -s $srcdir/mybatop/scripts/runscript/mybatop "$pkgdir/usr/bin/mybatop"

  chmod -R 755 "$pkgdir/opt/"
}
